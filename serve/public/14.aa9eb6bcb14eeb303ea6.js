(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{zyZT:function(e,t,n){"use strict";n.r(t),n.d(t,"PaymentMasterModule",function(){return f});var a=n("ofXK"),r=n("3Pt+"),o=n("fXoL"),i=n("qXBG"),l=n("5eHb"),d=n("tk/3"),c=n("oOf3");function s(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"tr"),o["\u0275\u0275elementStart"](1,"th",32),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"td"),o["\u0275\u0275text"](4,"Active"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"td"),o["\u0275\u0275text"](6),o["\u0275\u0275pipe"](7,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"td"),o["\u0275\u0275text"](9),o["\u0275\u0275pipe"](10,"date"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"td",33),o["\u0275\u0275elementStart"](12,"button",34),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](e);const n=t.$implicit;return o["\u0275\u0275nextContext"]().editPack(n)}),o["\u0275\u0275element"](13,"img",35),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"button",36),o["\u0275\u0275listener"]("click",function(){o["\u0275\u0275restoreView"](e);const n=t.$implicit;return o["\u0275\u0275nextContext"]().delete(n)}),o["\u0275\u0275element"](15,"img",37),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate2"](" ",e.currencySymbol," ",e.packageAmount," "),o["\u0275\u0275advance"](4),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](7,4,e.creationDate)),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate"](o["\u0275\u0275pipeBind1"](10,6,e.updationDate)||"-")}}function m(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"option",38),o["\u0275\u0275text"](1),o["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;o["\u0275\u0275property"]("value",e._id),o["\u0275\u0275advance"](1),o["\u0275\u0275textInterpolate2"](" ",e.symbol," - ",e.name," ")}}const p=function(e){return{itemsPerPage:10,currentPage:1,totalItems:e}};let g=(()=>{class e{constructor(e,t,n,a){this.authService=e,this.toastr=t,this.fb=n,this.http=a,this.packPaginator={limit:10,skip:1,total:0},this.currencyList=[]}ngOnInit(){this.formInit(),this.getPackList(1)}ngOnDestroy(){var e,t;this.packListSubscription.unsubscribe(),null===(e=this.pacakgeDepartmentSubscription)||void 0===e||e.unsubscribe(),null===(t=this.editPacktSubscription)||void 0===t||t.unsubscribe()}formInit(){this.paymentMasterForm=this.fb.group({packageVal:["",r.Validators.required],currency:["",r.Validators.required]})}clearPacktForm(){$("#editPackModal").modal("hide"),$("#addPackModal").modal("hide"),this.paymentMasterForm.reset()}getPackList(e){this.currencyListSubscription=this.authService.getCurrencyList(e).subscribe(e=>{e.success?this.currencyList=e.data:this.toastr.error(e.message,"Error!")},()=>{this.toastr.error("Something went wrong","Error!")}),this.packPaginator.skip=e,this.packListSubscription=this.authService.getPackageList().subscribe(e=>{e.success?(console.log("this is package list",e.data),this.packgList=e.data,this.packPaginator.total=e.data.length):this.toastr.error(e.message,"Error!")},()=>{this.toastr.error("Something went wrong","Error!")})}openMasterPopUp(){this.paymentMasterForm.patchValue({packageVal:""}),$("#addPackModal").modal("show")}delete(e){console.log("pack data",e),e&&(this.packId=e._id,this.packageName=e.packageAmount,$("#deleteModal").modal("show"))}deletePackage(){this.pacakgeDepartmentSubscription=this.authService.deletePackage(this.packId).subscribe(e=>{e.success?(this.toastr.success("Package Deleted","Success!"),$("#deleteModal").modal("hide"),this.getPackList(this.packPaginator.skip)):this.toastr.error(e.message,"Error!")},()=>{this.toastr.error("Something went wrong","Error!")})}editPack(e){this.paymentMasterForm.reset(),e&&(this.packId=e._id,this.packageName=e.packageAmount,this.currencySymbol=e.currencySymbol,this.paymentMasterForm.patchValue({packageVal:e.packageAmount,currency:e.currencySymbol}),$("#editPackModal").modal("show"))}updatePack(e){e.id=this.packId,console.log(e),this.editPacktSubscription=this.authService.updatePackage(e).subscribe(e=>{e.success?(this.toastr.success("Package Updated","Success!"),this.clearPacktForm(),this.getPackList(this.packPaginator.skip)):(this.clearPacktForm(),this.toastr.error(e.message,"Error!"))},()=>{this.clearPacktForm(),this.toastr.error("Something went wrong","Error!")})}addPackageMaster(e){console.log(e),this.addPackSubscription=this.authService.addPackage(e).subscribe(e=>{e.success?(this.toastr.success(e.message,"Success!"),this.clearPacktForm(),this.getPackList(1)):(this.clearPacktForm(),this.toastr.error(e.message,"Error!"))},()=>{this.clearPacktForm(),this.toastr.error("Something went wrong","Error!")})}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](i.a),o["\u0275\u0275directiveInject"](l.b),o["\u0275\u0275directiveInject"](r.FormBuilder),o["\u0275\u0275directiveInject"](d.b))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-payment-master"]],decls:93,vars:11,consts:[[1,"container-fluid"],[1,"text-uppercase","header"],[1,"rel-action",3,"click"],["title","Add Package",1,"btn","add-btn"],["src","assets/images/plus-icon.svg","height","35px;"],[1,"table","table-bordered"],["scope","col"],["scope","col",1,"text-right","pull-right"],[4,"ngFor","ngForOf"],[3,"pageChange"],["id","addPackModal","tabindex","-1","role","dialog","aria-labelledby","addPackModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"container"],[1,"heading"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[3,"formGroup","ngSubmit"],[2,"margin-top","5px"],[1,"required"],["formControlName","currency",1,"dropdown"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","text","id","packageAmount","placeholder","Enter package amount","formControlName","packageVal",1,"input-field","required"],["type","submit",1,"btn","btn-sm","btn-primary",3,"disabled"],["id","editPackModal","tabindex","-1","role","dialog","aria-labelledby","editPackModalLabel","aria-hidden","true",1,"modal","fade"],["placeholder","","disabled","","id","currencySymbol","formControlName","currency","required","",1,"input-field"],["placeholder","Enter Package amount","formControlName","packageVal","required","",1,"input-field"],["type","submit",1,"btn","btn-sm","btn-primary"],["id","deleteModal","tabindex","-1","role","dialog","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-dismiss","modal",1,"btn-sm","btn","delete-btn","btn-light"],["type","button",1,"btn-sm","btn","delete-btn","btn-primary",3,"click"],["scope","row"],[1,"text-right","pull-right"],["title","Edit Package",1,"btn","btn-sm","btn-warning","mar-5-left",3,"click"],["src","assets/images/edit-icon.svg"],["title","Delete Package",1,"btn","btn-sm","btn-danger","mar-5-left",3,"click"],["src","assets/images/trash.svg"],[3,"value"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275elementStart"](1,"h4",1),o["\u0275\u0275text"](2,"PACKAGE | MASTER"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"div",2),o["\u0275\u0275listener"]("click",function(){return t.openMasterPopUp()}),o["\u0275\u0275elementStart"](4,"button",3),o["\u0275\u0275element"](5,"img",4),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"div"),o["\u0275\u0275elementStart"](7,"table",5),o["\u0275\u0275elementStart"](8,"thead"),o["\u0275\u0275elementStart"](9,"tr"),o["\u0275\u0275elementStart"](10,"th",6),o["\u0275\u0275text"](11,"Package Amount"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](12,"th"),o["\u0275\u0275text"](13,"Status"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"th",6),o["\u0275\u0275text"](15,"Created At"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](16,"th",6),o["\u0275\u0275text"](17,"Updated At"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](18,"th",7),o["\u0275\u0275text"](19,"Actions"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](20,"tbody"),o["\u0275\u0275template"](21,s,16,8,"tr",8),o["\u0275\u0275pipe"](22,"paginate"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](23,"pagination-controls",9),o["\u0275\u0275listener"]("pageChange",function(e){return t.getPackList(e)}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](24,"br"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](25,"div",10),o["\u0275\u0275elementStart"](26,"div",11),o["\u0275\u0275elementStart"](27,"div",12),o["\u0275\u0275elementStart"](28,"div",13),o["\u0275\u0275elementStart"](29,"h6",14),o["\u0275\u0275text"](30,"PACKAGE | ADD"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](31,"button",15),o["\u0275\u0275elementStart"](32,"span",16),o["\u0275\u0275text"](33,"\xd7"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](34,"hr"),o["\u0275\u0275elementStart"](35,"form",17),o["\u0275\u0275listener"]("ngSubmit",function(){return t.addPackageMaster(t.paymentMasterForm.value)}),o["\u0275\u0275elementStart"](36,"div",18),o["\u0275\u0275elementStart"](37,"label",19),o["\u0275\u0275text"](38,"Currency"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](39,"select",20),o["\u0275\u0275elementStart"](40,"option",21),o["\u0275\u0275text"](41,"Select Currency"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](42,m,2,3,"option",22),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](43,"div",18),o["\u0275\u0275elementStart"](44,"label",19),o["\u0275\u0275text"](45,"Package Amount"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](46,"input",23),o["\u0275\u0275element"](47,"hr"),o["\u0275\u0275elementStart"](48,"button",24),o["\u0275\u0275text"](49," Add Package "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](50,"br"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](51,"div",25),o["\u0275\u0275elementStart"](52,"div",11),o["\u0275\u0275elementStart"](53,"div",12),o["\u0275\u0275elementStart"](54,"div",13),o["\u0275\u0275elementStart"](55,"h6",14),o["\u0275\u0275text"](56,"PACKAGE | EDIT"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](57,"button",15),o["\u0275\u0275elementStart"](58,"span",16),o["\u0275\u0275text"](59,"\xd7"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](60,"hr"),o["\u0275\u0275elementStart"](61,"form",17),o["\u0275\u0275listener"]("ngSubmit",function(){return t.updatePack(t.paymentMasterForm.value)}),o["\u0275\u0275elementStart"](62,"div",18),o["\u0275\u0275elementStart"](63,"label",19),o["\u0275\u0275text"](64,"Currency"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](65,"input",26),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](66,"div",18),o["\u0275\u0275elementStart"](67,"label",19),o["\u0275\u0275text"](68,"Enter Amount"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](69,"input",27),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](70,"hr"),o["\u0275\u0275elementStart"](71,"button",28),o["\u0275\u0275text"](72," Edit Package "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](73,"br"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](74,"div",29),o["\u0275\u0275elementStart"](75,"div",11),o["\u0275\u0275elementStart"](76,"div",12),o["\u0275\u0275elementStart"](77,"div",13),o["\u0275\u0275elementStart"](78,"h6",14),o["\u0275\u0275text"](79,"PACKAGE | DELETE"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](80,"button",15),o["\u0275\u0275elementStart"](81,"span",16),o["\u0275\u0275text"](82,"\xd7"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](83,"hr"),o["\u0275\u0275elementStart"](84,"label"),o["\u0275\u0275text"](85),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](86,"br"),o["\u0275\u0275elementStart"](87,"button",30),o["\u0275\u0275text"](88," No "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](89,"button",31),o["\u0275\u0275listener"]("click",function(){return t.deletePackage()}),o["\u0275\u0275text"](90," Yes "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](91,"br"),o["\u0275\u0275element"](92,"br"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](21),o["\u0275\u0275property"]("ngForOf",o["\u0275\u0275pipeBind2"](22,6,t.packgList,o["\u0275\u0275pureFunction1"](9,p,t.packPaginator.total))),o["\u0275\u0275advance"](14),o["\u0275\u0275property"]("formGroup",t.paymentMasterForm),o["\u0275\u0275advance"](7),o["\u0275\u0275property"]("ngForOf",t.currencyList),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("disabled",!t.paymentMasterForm.valid),o["\u0275\u0275advance"](13),o["\u0275\u0275property"]("formGroup",t.paymentMasterForm),o["\u0275\u0275advance"](24),o["\u0275\u0275textInterpolate1"]("Do you want to delete this package- $",t.packageName,"?"))},directives:[a.NgForOf,c.c,r["\u0275angular_packages_forms_forms_y"],r.NgControlStatusGroup,r.FormGroupDirective,r.SelectControlValueAccessor,r.NgControlStatus,r.FormControlName,r.NgSelectOption,r["\u0275angular_packages_forms_forms_x"],r.DefaultValueAccessor,r.RequiredValidator],pipes:[c.b,a.DatePipe],styles:[".rel-action[_ngcontent-%COMP%]{position:absolute;right:20px;top:80px}.rel-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:20px;line-height:2.8;text-decoration:none}.rel-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;cursor:pointer}.add-btn[_ngcontent-%COMP%]{margin-top:15px}.add-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}.btn-warning[_ngcontent-%COMP%]{background-color:#ffd75f;border-color:#ffd75f}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#ffc516;border-color:#ffc516}.btn-warning[_ngcontent-%COMP%]:focus{box-shadow:none!important}.btn-danger[_ngcontent-%COMP%]{background-color:#fe3b3b;border-color:#fe3b3b}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#eb1f33;border-color:#eb1f33}.btn-danger[_ngcontent-%COMP%]:focus, .delete-btn[_ngcontent-%COMP%]{box-shadow:none!important}.delete-btn[_ngcontent-%COMP%]{margin-left:5px;padding:5px 20px;margin-top:10px}.btn-light[_ngcontent-%COMP%]{background-color:#e4e5e5;border-color:#e4e5e5}.main-container[_ngcontent-%COMP%]{box-shadow:0 4px 10px 0 #d3d3d3!important;margin-top:9%!important;padding:0!important}thead[_ngcontent-%COMP%]{background:#f5f5f5}th[_ngcontent-%COMP%]{width:20%;padding-left:25px}td[_ngcontent-%COMP%]{padding-left:25px!important;padding:.65rem}p[_ngcontent-%COMP%]{margin-bottom:.1rem}.container[_ngcontent-%COMP%]{padding-right:25px;padding-left:25px;box-shadow:0 4px 5px 0 grey;padding-top:20px;margin-top:1%}.heading[_ngcontent-%COMP%], .page-heading[_ngcontent-%COMP%]{font-weight:700}.page-heading[_ngcontent-%COMP%]{padding-left:20px;font-size:17px}.close[_ngcontent-%COMP%]{position:relative;bottom:32px}label[_ngcontent-%COMP%]{color:grey;font-size:14px;font-weight:600;padding-left:5px}.input-field[_ngcontent-%COMP%]:focus{outline:none}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.dropdown[_ngcontent-%COMP%]{width:100%;height:33px;border:1px solid #d3d3d3;border-radius:3px;color:grey;padding-left:6px;font-size:13px}.dropdown[_ngcontent-%COMP%]:focus{outline:none}.notice[_ngcontent-%COMP%]{display:flex;font-size:12px;margin:8px 0 17px}#currencySymbol[_ngcontent-%COMP%]{background-color:hsla(0,0%,50.2%,.14901960784313725)}"]}),e})();var u=n("tyNb");const b=[{path:"",component:g}];let h=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[u.i.forChild(b)],u.i]}),e})(),f=(()=>{class e{}return e.\u0275mod=o["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=o["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.CommonModule,h]]}),e})()}}]);